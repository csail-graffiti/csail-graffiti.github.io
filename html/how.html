<p>
  Graffiti is like a big bucket that anyone can place social "objects" into.
  These objects can represent typical social media primitives like profiles and posts.
  However, there is nothing limiting you to these predefined types &mdash; you can make objects that represent events, which might be useful if you're implementing a social calendar, or objects that represent virtual items, which might be useful if you're implementing a video game.
</p>

<p>
  Objects can also reference other objects: a "like" object might reference the post object it is liking; a "friend" object might reference the two profile objects it is forming a relationship between.
  <!--This design is inherited from the <a href="https://en.wikipedia.org/wiki/Semantic_Web">semantic web</a> and one of it's realizations, ActivityStreams (which underlies ActivityPub, which underlies Mastodon).-->
</p>

<img src="/media/graffiti_bucket.png" />

<p>
  Different applications can be built by pulling different collections of objects out of the bucket.
  To construct something like Twitter, you can look through the bucket for objects that answer:
  <ol>
    <li>
      Who am I following?
    </li>
    <li>
      What posts have those people made recently?
    </li>
    <li>
      Who has liked those posts?
    </li>
  </ol>

  <p>
    Once you have collected the appropriate objects from the bucket, it is entirely up to you to choose how you want to organize and display them.
    You can sort the posts chronologically, by each post's like count, or by some machine learning algorithm.
    You can display a like count with each post, or <a href="https://about.fb.com/news/2021/05/giving-people-more-control/">turn them off</a> if that would stress you out.
  <p>

  <p>
    Other apps can be made with different sorts of queries and presentations, but since all of the social objects are coming out of the same bucket, these different applications will naturally interoperate.
    For example to make a location-based application, like YikYak, you might ask: which posts have been written near my current location?
    Some of the posts that you see in this app may be posts that other people see in the Twitter-like app.
  </p>


<p>
  However, <em>too much</em> interoperation can result in what's known as <a href="https://en.wikipedia.org/wiki/Context_collapse">context collapse</a>.
  LinkedIn and Tinder both have user profiles, but most people don't want their profiles shared between those two applications.
  The interesting part of Graffiti is how it enables people to maintain their own sense of social boundaries without agreeing with everyone that those boundaries should be the same.
  For some people there is a cultural distinction between things that happen "on Slack" versus "on Messenger" but others would rather have a single messaging app.
</p>
  <!--Cleary, this bucket can be used to create many different sorts of applications and, if those applications are using similar sorts of objects, they will naturally interoperate with each other.-->
  <!--However, we don't want too much interoperation. Linkden and Tinder both involve user profile objects but most people don't want users of one app to see their profile for the other.-->
  <!--Social boundaries between different spaces are critical for healthy social interactions.-->
  <!--In a world where everyone thinks and feels the same, this bucket analogy is probably enough to create a diverse set of would be enough to create a zoo of different social applications that all interoperate.-->
  <!--But in a reality we need to deal with a critical : social boundaries.-->
  <!--Some people hear things that they wish weren't said, and some people say things that they wish weren't widely heard.-->
</p>

<p>
  Graffiti affords three types of ways for people to define and maintain social boundaries: moderation, access control and context.
  We're going to discuss how people can set these boundaries, without necessarily 
  We're also going to discuss how what properties Graffiti has that enables people to have these boundaries even if their's aren't the same as someone else's.
</p>

<h2>
  Moderation
</h2>

<p>
  Flagging, issuing warnings, muting, "downvoting to oblivion",
  Some forms of moderation are destructive and others aren't: banning, deleting content.
  Sometimes change what people can see: ban lists, etc.
  Others remove content entirely.
  We will call the first moderation and the second censorship.
</p>

You may disagree with this distinction. Many things that are routinely called moderation, we're calling censorship. For example, "removed by moderator" on Reddit.
One alternative would be for the moderator to 

<p>
  In Graffiti, no censorship other than self-censorship, is allowed.
  In other words, no user can modify or delete anyone elses's content, although they can modify and delete their own content.
  However, this can enable any sort of moderation to take place.
</p>

<p>
  One way would be for self-appointed moderators to create "Block" objects that, in the same way as "Like" objects, refer to a particular post or other content.
  ["Bob is the worst."-Alice "This comment is mean." -Carol]
</p>

<p>
  Some people might choose to ignore these moderation signals others might listen to signals from trusted friends (>2 friends) and others might listen to signals from government agencies.

  Some might hide content, some might put it in a warning marker and some might put it in a place to go through when they're in the right headspace "Death Threats to forward to the police".
</p>

<p>
  For collaborative applications (google docs, wikis, games) actions can be put together with CRDTs.
  People can choose to ignore actions that people have taken.
</p>

<h2>
  Access Control
</h2>

<p>
  To create things like private messages you can add a set of recipients to
  These objects will only show up in queries by those recipients.
</p>

<p>
  You might make things only to yourself: drafts, bookmarks, read recipiepts.
</p>

<h2>
  Context
</h2>

<p>
  There are somethings that are technically public but intended for a specific audience.
  Think subreddit, your wall, comment thread.
</p>

<p>
  Sometimes when these boundaries are broken.
  For example, Instagram used to have a "Following" tab where you could see all of the likes and comments your friends made.
  A parent interacting with adult content online may inadvertantly alert those actions to their children.
  Closeted gay people may accidentally out themselves to their coworkers.
  This is known as context collapse.
</p>

<p>
  We have our own way of doing it in Graffiti but to see why it's necessary consider something like "Rooms" or "Channels".
  You can do a lot: reference matrix plugin.
  For a fixed design, rooms can do about anything but they are sufficient for interoperation between apps.
</p>

<p>
  One thing someone might want to change about there app is context: maybe they want to make the context smaller, mayber larger, maybe change it completely.
  Which room do you post in?
  If I am looking to buy a used guitar do I look in the room for selling? my local community? music? selling music? selling-music-locally? ...
</p>

<p>
  Context can also be useful for applications with different features
  Post that has a sarcastic symbol, "only" want to show this to people
  who are looking for objects with that feature.
  Otherwise they'll just see something very out of context.
</p>

<p>
  Can be mixed with access control.
</p>

<h2>
  Implementation
</h2>

<p>
  Up Next: 
  <router-link to="/theory/but">
    What about...
  </router-link>
</p>

python, fastapi, websockets, mongodb. Front end Vue.
Big blobs (images, videos, audio) go on IPFS.

It is centralized and not encrypted.
Hopefully we can use searchable encryption access controlled content.

As for decentralization, some thoughts:
decentralization provides guarantees that "the ship won't sink" etc.
In this system, as little choices as possible are being made, and engineering is just going to be throughput - would running it as a cooperatively owned nonprofit be enough?
Alternatively one way to decentralize it would be to replicate the database across several different mirrors.
This wouldn't be like hosting a blockchain mirror - you'd be downloading all of people's posts!
Queries over a network are difficult.

Bots:
Some applications are highly state based: wikipedia,
Tallying a post that has thousands of likes,
Automatic meta data appended to content.
Having a bot.
Or alternatively having a bot do Y.
The bots could be randomly audited.
These bots could basically claim they are doing a particular task and.
Maybe there could be a language for these tasks - who knows!
maybe this is a place for smart contracts, although.
