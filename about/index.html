<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Graffiti: Theory and Principles</title>
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Rock+Salt" />
  <link rel="stylesheet" href="/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body id="app">
  <header>
    <h1>
      Graffiti
    </h1>
    <h2>
      Theory and Principles
    </h2>
    <p>
      Graffiti is a place that let's anyone add social networks.
      Return to the front page to see some real world examples,
      but this page explores the theory: why Graffiti is important for you and other people.
      How it achieves these things.
    </p>

    <p>
      Explore the following sections below.
    </p>
  </header>
  <nav>
    <ul>
      <li>
        <router-link to="/why">
          Why?
        </router-link>
      </li>
      <li>
        <router-link to="/how">
          How?
        </router-link>
      </li>
      <li>
        <router-link to="/but">
            What about...
        </router-link>
      </li>
    </ul>
  </nav>
  <router-view v-slot="{ Component }">
    <transition name="fade" mode="out-in" appear>
      <component :is="Component" />
    </transition>
  </router-view>
  <script src="https://unpkg.com/vue@3.2.37/dist/vue.global.prod.js"></script>
  <script src="https://unpkg.com/vue-router@4.0.14/dist/vue-router.global.prod.js"></script>
  <script>
    function lazyDoc(name, path=null) { return {
      path: path?path:`/${name}`,
      component: async ()=> {
        const response = await fetch(`./${name}.html`)
        return { template: `<main>${await response.text()}</main>` }
      }
    }}

    const Router = VueRouter.createRouter({
      history: VueRouter.createWebHashHistory(),
      routes: [
        lazyDoc('why'),
        lazyDoc('how'),
        lazyDoc('but'),
      ],
      scrollBehavior (to, from, savedPosition) {
        return {
          el: document.getElementsByTagName("nav")[0],
          behavior: 'smooth'}
      }
    })

    Vue.createApp().use(Router).mount('#app')
  </script>
</body>
</html>
